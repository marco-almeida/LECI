{% extends 'base.html' %}

{% block head %}
<title>Home</title>
{% endblock %}

{% block body %}
<div class="container h-100">
	<div class="row h-100 justify-content-center align-items-center">
		<h1><strong>Welcome to eHealth Corp</strong></h1>
	</div>
</div>
<div class="container h-100">
	<div class="row h-100 justify-content-center align-items-center">
		<p>Here's what we offer: </p>
	</div>
</div>
<div class="container h-100">
	<div class="row h-100 justify-content-center align-items-center">
		<ul>
			<li>You can schedule appointments online and choose your doctor</li>
			<li>You can post in our forum</li>
			<li>You can search for a doctor in our database</li>
		</ul>
	</div>
</div>
<div class="container h-100">
	<div class="row h-100 justify-content-center align-items-center">
		<h4>Search for a doctor: </h4>
	</div>
</div>


<div class="container h-100">
	<div class="row h-100 justify-content-center align-items-center">
		<form action="/search" method="GET">
			<input value="{{query}}" class="input-large" type="text" name="query">
			<button class="btn btn-primary" type="submit" value="Search">Search</button>
		</form>
		{% if query %}
		{% if users | length != 0 %}
		<table class="table table-bordered">
			<caption></caption>
			<th>Name</th>
			<th>Email</th>
			<th>Phone Number</th>
			{% for u in users %}
			<tr>
				<td>{{ u[1] }}</td>
				<td>{{ u[2] }}</td>
				<td>{{ u[3] }}</td>
			</tr>
			{% endfor %}
		</table>
		{% else %}
		<div class="container h-100">
			<div class="row h-100 justify-content-center align-items-center">
				No search results.
				{% endif %}
				{% endif %}
			</div>
		</div>

		<!-- Button trigger modal -->
		<div class="container h-100">
			<div class="row h-100 justify-content-center align-items-center">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
					Contact us!
				</button>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<h1>Contact us!</h1>
						<form id="contact_form" action="/index/get_contact" name="contact_form" method="post">
							<div class="mb-5 row">
								<div class="col">
									<label>First Name</label>
									<input type="text" class="form-control" id="first_name" name="first_name" required maxlength="50">
								</div>
								<div class="col">
									<label>Last Name</label>
									<input type="text" required maxlength="50" class="form-control" id="last_name" name="last_name">
								</div>
							</div>
							<div class="mb-5 row">
								<div class="col">
									<label for="email_addr">Email address</label>
									<input type="email_addr" required maxlength="50" class="form-control" id="email_addr" name="email_addr"
										placeholder="name@example.com">
								</div>
								<div class="col">
									<label for="phone_input">Phone</label>
									<input type="number" min=0 required maxlength="50" class="form-control" id="phone_input" name="phone_input"
										placeholder="Phone">
								</div>
							</div>
							<div class="mb-5">
								<label for="message">Message</label>
								<textarea required class="form-control" id="message" name="message" rows="5"></textarea>
							</div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-primary" type="submit" value="Submit">Submit</button>

						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					</div>
					</form>

				</div>
			</div>
		</div>
	</div>
</div>

{% endblock %}